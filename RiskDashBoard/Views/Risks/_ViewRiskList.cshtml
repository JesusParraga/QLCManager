
@model List<RiskDashBoard.Models.Risk>

<hr />
<div class="row" style="margin-left:5px">
    <div class="form-check form-switch col-4">
        <input class="form-check-input" type="checkbox" role="checkbox" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">EXPLORATION</label>
    </div>
    <div class="form-check form-switch col-4">
        <input class="form-check-input" type="checkbox" role="checkbox" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">VALUATION</label>
    </div>
    <div class="form-check form-switch col-4">
        <input class="form-check-input" type="checkbox" role="checkbox" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">FOUNDATIONS</label>
    </div>
    <div class="form-check form-switch col-4">
        <input class="form-check-input" type="checkbox" role="checkbox" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">DEVELOPMENT</label>
    </div>
    <div class="form-check form-switch col-4">
        <input class="form-check-input" type="checkbox" role="checkbox" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">OPERATION</label>
    </div>
</div>
<hr />

<div class="row">
    <div class="col-12" style="max-height:300px; overflow:auto">
        <table class="table table-bordered table-striped table-responsive">
            <thead class="sticky-top">
                <tr>
                    <th>Risk Title</th>
                    <th>Risk Level</th>
                    <th>Phase detected</th>
                    <th class="text-center">Action</th>
                </tr>
            </thead>
            <tbody>
            @if (Model != null)
            {
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.RiskName)</td>
                        <td>@Html.DisplayFor(modelItem => item.RiskLevel)</td>
                        <td>@Html.DisplayFor(modelItem => item.PhasesName)</td>
                        <td class="text-center">
                            <button type="button" id="@item.RiskId" onclick="AddRisk(@item.RiskId)" class="btn btn-"><i class="far fa-trash-alt"></i></button>
                        </td>
                    </tr>
                }
            }
            </tbody>
        </table>
    </div>
</div>
<script>
    function AddRisk(RiskId) {

        var PhaseId = $('#phaseHiddenId').val()

        $.ajax({
            url: "/Risks/AddRiskToTheCurrentPhase",
            type: 'POST',
            data: { id: RiskId, idPhase: PhaseId },
            success: function (data) {
                //GetUserProjectsPartial()
            }
        });
    };
</script>